
version: 2.1

orbs:
	python: circleci/python@1.5.0

jobs:
	build-and-test: 
		docker:
			- image: cimg/python:3.10.2

		steps:
			- checkout
		  
			- run:
				name: install dependencies
				command: |
				
					python3 -m venv venv
						. venv/bin/activate
						make install
		  
			- run:
				name: Run lint
			  # This assumes pytest is installed via the install-package step above
				command: |
					. venv/bin/activate
					make lint

# Invoke jobs via workflows
# See: https://circleci.com/docs/configuration-reference/#workflows
workflows:
	sample: 
		jobs:
			- build-and-test